# Bootstraping with public etcd discovery
coreos_etcd_config:
  # generate a new token for each unique cluster from https://discovery.etcd.io/new?size=3
  # specify the initial size of your cluster with ?size=X
  discovery: "https://discovery.etcd.io/{{coreos_token}}"
  # multi_region and multi_cloud deployments need to use {PUBLIC_IPV4}
  advertise_client_urls: "http://{{priv_ip}}:2379,http://{PRIVATE_IPV4}:4001"
  initial_advertise_peer_urls: "http://{{priv_ip}}:2380"
  listen_client_urls: "http://0.0.0.0:2379,http://0.0.0.0:4001"
  listen_peer_urls: "http://{{priv_ip}}:2380"

# Bootstraping with DNS
#coreos_etcd_config:
#  name: "{{inventory_hostname}}"
#  discovery-srv: "myfqdn.com"
#  advertise-client-urls: "http://{{priv_ip}}:2379"
#  initial-advertise-peer-urls: "http://{{priv_ip}}:2380"
#  listen-peer-urls: "http://{{priv_ip}}:2380,http://{{priv_ip}}:7001"
#  listen-client-urls: "http://0.0.0.0:2379,http://0.0.0.0:4001"
#  initial-cluster-token: 'cluster01-prod'
#  initial-cluster-state: 'new'
#
coreos_fleet_config:
  public-ip: "{{coreos_public_ip}}"
  metadata: "{{coreos_fleet_metadata}}"
